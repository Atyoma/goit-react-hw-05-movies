{"version":3,"file":"static/js/406.65d0ed55.chunk.js","mappings":"+PAYe,SAASA,IACtB,OAAoCC,EAAAA,EAAAA,UAAS,MAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAUjBC,QAAQC,IAAIL,EAASM,QACrBC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,gBACmBV,GAChBW,KAAKZ,GACLa,OAAM,SAAAC,GAAK,MAAI,aACjB,CAACb,IAIJ,OACE,iCACE,oBAAQc,KAAK,SAASC,UAAWC,EAAAA,EAAAA,KAAQC,QApBtB,WAErBb,EACEF,EAASM,MAAT,UACON,EAASM,MAAMU,KAAKC,UAD3B,OACsCjB,EAASM,MAAMU,KAAKE,QACtD,MAeJ,WACE,SAAC,MAAD,IADF,aAICtB,IACC,iCACE,iBAAKiB,UAAWC,EAAAA,EAAAA,SAAhB,WACE,gBAAKD,UAAWC,EAAAA,EAAAA,WAAhB,UACE,gBACED,UAAWC,EAAAA,EAAAA,OACXK,IAAG,0CAAqCvB,EAAWwB,aACnDC,IAAKzB,EAAW0B,oBAGpB,iBAAKT,UAAWC,EAAAA,EAAAA,KAAhB,WACE,wBAAKlB,EAAW0B,kBAChB,kDApBM,GAoBa1B,EAAW2B,aAA9B,UACA,sCACA,uBAAI3B,EAAW4B,YACf,mCACC5B,EAAW6B,OAAOC,KAAI,SAAAC,GAAK,OAC1B,4BAAsBA,EAAMC,KAA5B,MAAWD,EAAME,cAIvB,mBACA,iBAAKhB,UAAWC,EAAAA,EAAAA,OAAhB,WACE,4CACA,gBAAID,UAAWC,EAAAA,EAAAA,WAAf,WACE,SAAC,KAAD,CAAMgB,GAAE,OAAUjB,UAAWC,EAAAA,EAAAA,KAA7B,mBAGA,SAAC,KAAD,CAAMgB,GAAE,UAAR,4BAGJ,mBACA,SAAC,KAAD,Y,kBC1EV,IAAMC,EAAW,+BACXC,EAAM,mCAuDZ,IAAMxB,EAAM,CACVyB,oBAtDF,WACE,OAAOC,MAAM,GAAD,OAAIH,EAAJ,uCAA2CC,IAAOvB,MAC5D,SAAA0B,GACE,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,QAAQC,OAAO,IAAIC,MAAM,gCAiD7BC,gBA5CF,SAAyBZ,GACvB,OAAOK,MAAM,GAAD,OAAIH,EAAJ,kBAAsBF,EAAtB,oBAAoCG,IAAOvB,MAAK,SAAA0B,GAC1D,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,QAAQC,OAAO,IAAIC,MAAM,gCAwC3BE,YApCF,SAAqBb,GACnB,OAAOK,MAAM,GAAD,OAAIH,EAAJ,kBAAsBF,EAAtB,4BAA4CG,IAAOvB,MAC7D,SAAA0B,GACE,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,QAAQC,OAAO,IAAIC,MAAM,gCA+B7BG,aA1BF,SAAsBd,GACpB,OAAOK,MAAM,GAAD,OAAIH,EAAJ,kBAAsBF,EAAtB,4BAA4CG,IAAOvB,MAC7D,SAAA0B,GACE,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,QAAQC,OAAO,IAAIC,MAAM,gCAqB7BI,YAhBF,SAAqBC,GACnB,OAAOX,MAAM,GAAD,OAAIH,EAAJ,+BAAmCc,EAAnC,oBAAoDb,IAAOvB,MACrE,SAAA0B,GACE,GAAIA,EAASC,GACX,OAAOD,EAASE,OAElBC,QAAQC,OAAO,IAAIC,MAAM,iCAa/B,O,kBC/DA,KAAgB,KAAO,kBAAkB,IAAM,iBAAiB,OAAS,oBAAoB,SAAW,sBAAsB,OAAS,oBAAoB,KAAO,kBAAkB,KAAO,kBAAkB,OAAS,oBAAoB,KAAO,kBAAkB,QAAU","sources":["Pages/MovieDetailsPage.js","Service/api-service.js","webpack://react-homework-template/./src/Pages/Nav.module.css?ba5d"],"sourcesContent":["import {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport s from 'Pages/Nav.module.css';\nimport api from '../Service/api-service';\nimport { useState, useEffect } from 'react';\nimport { HiArrowNarrowLeft } from 'react-icons/hi';\n\nexport default function MovieDetailsPage() {\n  const [moviesInfo, setMoviesInfo] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const backLinkMovies = () => {\n    // navigate(-1);\n    navigate(\n      location.state\n        ? `${location.state.from.pathname}${location.state.from.search}`\n        : '/'\n    );\n  };\n  console.log(location.state);\n  useEffect(() => {\n    api\n      .fetchMoviesPage(movieId) //.then(data => {console.log(data)})\n      .then(setMoviesInfo)\n      .catch(error => 'error');\n  }, [movieId]);\n\n  const userScore = 10;\n\n  return (\n    <>\n      <button type=\"button\" className={s.back} onClick={backLinkMovies}>\n        <HiArrowNarrowLeft />\n        Go back\n      </button>\n      {moviesInfo && (\n        <>\n          <div className={s.filmCard}>\n            <div className={s.posterCard}>\n              <img\n                className={s.poster}\n                src={`https://image.tmdb.org/t/p/w300/${moviesInfo.poster_path}`}\n                alt={moviesInfo.original_title}\n              />\n            </div>\n            <div className={s.info}>\n              <h2>{moviesInfo.original_title}</h2>\n              <p>User score: {`${moviesInfo.vote_average * userScore} %`}</p>\n              <h3>Overview</h3>\n              <p>{moviesInfo.overview}</p>\n              <h4>Genres</h4>\n              {moviesInfo.genres.map(genre => (\n                <span key={genre.id}>{genre.name} </span>\n              ))}\n            </div>\n          </div>\n          <hr />\n          <div className={s.actors}>\n            <p>Additional Info</p>\n            <ul className={s.actorsList}>\n              <Link to={`cast`} className={s.cast}>\n                Cast\n              </Link>\n              <Link to={`reviews`}>Reviews</Link>\n            </ul>\n          </div>\n          <hr />\n          <Outlet />\n        </>\n      )}\n    </>\n  );\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = 'b392cdf9c5e216c7de5c7f82b89e6069';\n\nfunction fetchTrendingMovies() {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      Promise.reject(new Error('Something went wrong!!!'));\n    }\n  );\n}\n\nfunction fetchMoviesPage(id) {\n  return fetch(`${BASE_URL}/movie/${id}?api_key=${KEY}`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    Promise.reject(new Error('Something went wrong!!!'));\n  });\n}\n\nfunction fetchActors(id) {\n  return fetch(`${BASE_URL}/movie/${id}/credits?api_key=${KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      Promise.reject(new Error('Something went wrong!!!'));\n    }\n  );\n}\n\nfunction fetchReviews(id) {\n  return fetch(`${BASE_URL}/movie/${id}/reviews?api_key=${KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      Promise.reject(new Error('Something went wrong!!!'));\n    }\n  );\n}\n\nfunction fetchSearch(query) {\n  return fetch(`${BASE_URL}/search/movie?query=${query}&api_key=${KEY}`).then(\n    response => {\n      if (response.ok) {\n        return response.json();\n      }\n      Promise.reject(new Error('Something went wrong!!!'));\n    }\n  );\n}\n\nconst api = {\n  fetchTrendingMovies,\n  fetchMoviesPage,\n  fetchActors,\n  fetchReviews,\n  fetchSearch,\n};\n\nexport default api;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Nav_list__+DVp0\",\"nav\":\"Nav_nav__Xv5Wd\",\"active\":\"Nav_active__FyzE-\",\"filmCard\":\"Nav_filmCard__++Itq\",\"poster\":\"Nav_poster__xEJ20\",\"info\":\"Nav_info__GCie2\",\"back\":\"Nav_back__l+GPX\",\"actors\":\"Nav_actors__R7Emz\",\"cast\":\"Nav_cast__IDBMq\",\"reviews\":\"Nav_reviews__m4VGo\"};"],"names":["MovieDetailsPage","useState","moviesInfo","setMoviesInfo","movieId","useParams","location","useLocation","navigate","useNavigate","console","log","state","useEffect","api","then","catch","error","type","className","s","onClick","from","pathname","search","src","poster_path","alt","original_title","vote_average","overview","genres","map","genre","name","id","to","BASE_URL","KEY","fetchTrendingMovies","fetch","response","ok","json","Promise","reject","Error","fetchMoviesPage","fetchActors","fetchReviews","fetchSearch","query"],"sourceRoot":""}